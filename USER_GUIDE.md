# MyNetTools 使用手册

## 📖 目录
1. [应用介绍](#应用介绍)
2. [安装和权限](#安装和权限)
3. [首次设置](#首次设置)
4. [基本使用](#基本使用)
5. [高级功能](#高级功能)
6. [故障排除](#故障排除)
7. [最佳实践](#最佳实践)

## 🎯 应用介绍

MyNetTools是一个专业的Android网络环境模拟工具，主要用途包括：

- **应用测试**：测试应用在不同网络环境下的表现
- **性能优化**：验证应用在弱网环境下的优化效果
- **用户体验测试**：模拟真实用户的网络环境
- **开发调试**：在开发过程中模拟各种网络条件

## 📱 安装和权限

### 系统要求
- Android 6.0 (API 23) 或更高版本
- 至少50MB可用存储空间
- 网络连接权限

### 安装步骤
1. 下载MyNetTools APK文件
2. 在Android设备上启用"未知来源"应用安装
3. 安装APK文件
4. 打开应用，授予必要权限

### 必要权限
应用需要以下权限才能正常工作：

| 权限 | 用途 | 是否必需 |
|------|------|----------|
| 网络访问 | 代理服务器功能 | ✅ 必需 |
| WiFi状态访问 | 网络状态检测 | ✅ 必需 |
| 前台服务 | 代理服务运行 | ✅ 必需 |
| 通知 | 服务状态通知 | ✅ 必需 |

## ⚙️ 首次设置

### 步骤1：打开应用
1. 在应用列表中找到"MyNetTools"
2. 点击启动应用
3. 首次启动会请求权限，请点击"允许"

### 步骤2：设置系统代理
这是使用网络限速功能的关键步骤：

1. **点击"设置系统代理"按钮**
2. **点击"打开设置"进入WiFi设置**
3. **长按当前连接的WiFi网络**
4. **选择"修改网络"**
5. **勾选"显示高级选项"**
6. **代理设置选择"手动"**
7. **输入代理信息：**
   - 代理服务器主机名：`127.0.0.1`
   - 代理服务器端口：`8080`
8. **点击"保存"**

### 步骤3：验证代理设置
1. 返回MyNetTools应用
2. 查看代理状态显示
3. 如果显示"代理状态: 运行中"，说明设置成功

## 🚀 基本使用

### 选择网络等级

应用提供13种不同的网络等级，每种都有特定的速度和延迟设置：

#### 4G网络系列
- **正常网络**：100Mbps下载，50Mbps上传，20ms延迟
- **快速4G**：50Mbps下载，25Mbps上传，50ms延迟
- **标准4G**：20Mbps下载，10Mbps上传，100ms延迟
- **慢速4G**：5Mbps下载，2Mbps上传，200ms延迟

#### 3G网络系列
- **快速3G**：2Mbps下载，1Mbps上传，300ms延迟
- **标准3G**：1Mbps下载，0.5Mbps上传，500ms延迟
- **慢速3G**：0.5Mbps下载，0.2Mbps上传，800ms延迟

#### 2G网络系列
- **快速2G**：0.2Mbps下载，0.1Mbps上传，1000ms延迟
- **标准2G**：0.1Mbps下载，0.05Mbps上传，1500ms延迟
- **慢速2G**：0.05Mbps下载，0.02Mbps上传，2000ms延迟

#### 极慢网络
- **GPRS网络**：0.02Mbps下载，0.01Mbps上传，3000ms延迟
- **极慢网络**：0.01Mbps下载，0.005Mbps上传，5000ms延迟

#### 特殊模式
- **离线模式**：完全阻止网络连接

### 应用网络设置

1. **选择网络等级**：在RadioGroup中选择所需的网络等级
2. **点击"应用网络设置"**：应用会启动代理服务器
3. **等待启动完成**：查看状态显示确认代理服务器已启动
4. **开始测试**：使用其他应用测试网络效果

### 网速监控

1. **启动监控**：点击"开始网速测试"
2. **观察数据**：查看实时显示的下载/上传速度和延迟
3. **停止监控**：点击"停止网速测试"

## 🔧 高级功能

### 网络诊断

当遇到网络问题时，可以使用内置的诊断工具：

1. **点击"诊断网络"**
2. **查看诊断结果**：
   - 代理服务诊断：检查代理服务是否正常运行
   - 本地代理连接测试：验证本地连接
   - 直接网络连接测试：检查原始网络连接
   - 代理网络连接测试：验证代理网络连接

### 快速修复

当设置代理后无法正常联网时：

1. **点击"快速修复"**
2. **选择"停止代理"**：立即停止代理服务器
3. **重置代理设置**：在WiFi设置中将代理改为"无"
4. **重新设置**：按照首次设置步骤重新配置

### 端口管理

应用会自动处理端口冲突：

- **默认端口**：8080
- **备用端口**：8888, 8889, 8890, 8891
- **自动切换**：当默认端口被占用时自动使用备用端口

## 🚨 故障排除

### 常见问题及解决方案

#### 问题1：代理连接失败
**症状**：设置代理后无法联网
**解决方案**：
1. 检查代理服务是否启动
2. 确认端口8080未被其他应用占用
3. 重新设置系统代理
4. 使用快速修复功能

#### 问题2：网速限制不生效
**症状**：选择网络等级后网速没有变化
**解决方案**：
1. 确认系统代理设置正确
2. 检查代理服务状态
3. 运行网络诊断
4. 重启代理服务

#### 问题3：应用崩溃
**症状**：应用突然关闭
**解决方案**：
1. 重启应用
2. 检查设备内存是否充足
3. 清除应用缓存
4. 重新安装应用

#### 问题4：端口冲突
**症状**：显示"端口被占用"错误
**解决方案**：
1. 应用会自动尝试备用端口
2. 手动检查8080端口是否被占用
3. 关闭可能占用端口的其他应用

### 错误代码说明

| 错误代码 | 含义 | 解决方案 |
|----------|------|----------|
| 503 Service Unavailable | 离线模式或代理服务未启动 | 检查代理服务状态 |
| Connection refused | 端口被占用或服务未启动 | 重启代理服务 |
| Socket closed | 连接意外关闭 | 重新连接 |

## 💡 最佳实践

### 测试建议

1. **渐进式测试**：从正常网络开始，逐步降低到弱网环境
2. **多场景测试**：测试应用在不同网络等级下的表现
3. **持续监控**：使用网速监控功能观察实际效果
4. **对比测试**：在相同网络等级下测试不同功能

### 性能优化

1. **合理选择网络等级**：根据测试需求选择合适的网络等级
2. **及时停止服务**：测试完成后及时停止代理服务
3. **监控电池消耗**：长时间使用会增加电池消耗
4. **定期诊断**：定期运行网络诊断确保服务正常

### 安全注意事项

1. **代理设置影响**：设置系统代理会影响所有网络应用
2. **数据安全**：代理服务器会处理所有网络流量
3. **权限管理**：只授予必要的权限
4. **及时更新**：保持应用版本最新

## 📞 技术支持

### 获取帮助

如果遇到问题，可以通过以下方式获取帮助：

1. **查看日志**：应用会记录详细的运行日志
2. **运行诊断**：使用内置诊断工具
3. **查阅文档**：参考本使用手册
4. **联系支持**：提交Issue或发送邮件

### 反馈建议

欢迎提供反馈和建议来改进应用：

- 功能建议
- 界面优化
- 性能改进
- 问题报告

---

**MyNetTools** - 专业的网络环境模拟工具，让测试更简单、更精确！ 
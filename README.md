# MyNetTools - Android网络工具

MyNetTools是一个功能强大的Android网络工具应用，专门用于模拟各种网络环境，帮助开发者测试应用在不同网络条件下的表现。

## 🚀 主要功能

### 1. 网络环境模拟
- **13种网络等级**：从高速4G到极慢GPRS，精确模拟真实网络环境
- **精确限速**：支持精确的下载/上传速度限制
- **延迟控制**：可调节的网络延迟，从20ms到5000ms
- **离线模式**：完全阻止网络连接，模拟离线状态

### 2. 本地代理服务器
- **HTTP/HTTPS代理**：支持HTTP和HTTPS流量的代理转发
- **实时限速**：基于代理的实时网络限速
- **端口管理**：自动端口冲突检测和备用端口切换
- **连接诊断**：内置网络连接诊断工具

### 3. 网速测试
- **实时网速监控**：显示当前网络的实际下载/上传速度
- **延迟测试**：测量网络延迟
- **持续监控**：支持持续网速测试和监控

## 📱 网络等级详情

| 网络等级 | 下载速度 | 上传速度 | 延迟 | 适用场景 |
|---------|---------|---------|------|----------|
| 正常网络 | 100Mbps | 50Mbps | 20ms | 高速网络测试 |
| 快速4G | 50Mbps | 25Mbps | 50ms | 4G网络优化测试 |
| 标准4G | 20Mbps | 10Mbps | 100ms | 标准4G环境测试 |
| 慢速4G | 5Mbps | 2Mbps | 200ms | 弱4G信号测试 |
| 快速3G | 2Mbps | 1Mbps | 300ms | 3G网络测试 |
| 标准3G | 1Mbps | 0.5Mbps | 500ms | 标准3G环境测试 |
| 慢速3G | 0.5Mbps | 0.2Mbps | 800ms | 弱3G信号测试 |
| 快速2G | 0.2Mbps | 0.1Mbps | 1000ms | 2G网络测试 |
| 标准2G | 0.1Mbps | 0.05Mbps | 1500ms | 标准2G环境测试 |
| 慢速2G | 0.05Mbps | 0.02Mbps | 2000ms | 弱2G信号测试 |
| GPRS网络 | 0.02Mbps | 0.01Mbps | 3000ms | GPRS网络测试 |
| 极慢网络 | 0.01Mbps | 0.005Mbps | 5000ms | 极弱网络测试 |
| 离线模式 | 0Mbps | 0Mbps | 9999ms | 离线状态测试 |

## 🛠️ 使用指南

### 首次使用设置

1. **安装应用**
   - 下载并安装MyNetTools APK
   - 授予必要的网络权限

2. **设置系统代理**
   - 打开应用，点击"设置系统代理"
   - 按照提示进入WiFi设置
   - 长按当前WiFi网络，选择"修改网络"
   - 勾选"显示高级选项"
   - 代理设置选择"手动"
   - 代理服务器主机名：`127.0.0.1`
   - 代理服务器端口：`8080`
   - 保存设置

### 基本使用流程

1. **启动代理服务**
   - 选择所需的网络等级
   - 点击"应用网络设置"
   - 等待代理服务器启动

2. **验证设置**
   - 查看代理状态显示
   - 运行网络诊断确认连接正常
   - 测试网络连接

3. **开始测试**
   - 启动网速测试监控
   - 使用其他应用测试网络效果
   - 观察网速和延迟变化

### 高级功能

#### 网络诊断
- 点击"诊断网络"查看详细的网络状态
- 诊断包括：代理服务状态、本地连接、直接网络、代理网络连接
- 自动检测端口冲突和连接问题

#### 快速修复
- 当设置代理后无法联网时使用
- 提供一键停止代理服务
- 指导重置代理设置

#### 网速监控
- 实时显示当前网络速度
- 支持持续监控模式
- 显示下载/上传速度和延迟

## 🔧 技术架构

### 核心组件

1. **NetworkProxyService**
   - 本地HTTP/HTTPS代理服务器
   - 支持实时网络限速和延迟控制
   - 自动端口管理和冲突解决

2. **ToolsActivity**
   - 用户界面和交互逻辑
   - 网络等级选择和配置
   - 网速测试和监控

3. **NetworkThrottleService**
   - 网络限速算法实现
   - 精确的速度和延迟控制

### 技术特性

- **多线程处理**：使用线程池处理并发连接
- **内存优化**：高效的缓冲区管理
- **错误处理**：完善的异常处理和恢复机制
- **日志系统**：详细的调试和监控日志

## 📋 系统要求

- **Android版本**：Android 6.0 (API 23) 及以上
- **权限要求**：
  - 网络访问权限
  - WiFi状态访问权限
  - 前台服务权限
  - 通知权限

## 🚨 注意事项

### 重要提醒
1. **代理设置影响**：设置系统代理会影响所有网络应用
2. **端口占用**：默认使用8080端口，可能与其他应用冲突
3. **权限要求**：需要系统级网络设置权限
4. **电池消耗**：持续运行代理服务会增加电池消耗

### 故障排除

#### 常见问题
1. **代理连接失败**
   - 检查代理服务是否启动
   - 确认端口8080未被占用
   - 重新设置系统代理

2. **网速限制不生效**
   - 确认系统代理设置正确
   - 检查代理服务状态
   - 运行网络诊断

3. **应用无法联网**
   - 使用快速修复功能
   - 重置代理设置
   - 重启应用

## 🔄 更新日志

### v1.0.0
- 初始版本发布
- 支持13种网络等级模拟
- 本地HTTP/HTTPS代理服务器
- 实时网速测试和监控
- 网络诊断和快速修复功能

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 📞 支持

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至项目维护者

---

**MyNetTools** - 让网络测试更简单、更精确！ 